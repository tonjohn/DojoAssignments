<!DOCTYPE html>
<html>
	<head>
		<title>Contact Card</title>
		<meta name="description" content="Add contacts and view their information">
		<link rel="icon" 
      type="image/png" 
      href="http://tonjohn.com/favicon.png">
		<script src="http://tonjohn.com/js/utilities.js"></script>
		<script src= 'http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		  <!-- Compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">

		<!-- Compiled and minified JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
		<!-- <link rel="stylesheet" type="text/css" href="style.css"> -->

		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<style>
			.card .card-reveal {
				padding: 0px 0px 0px 10px;
				/*padding-left: 10px;*/
			}
		</style>
	</head>
	<body>
		<header id="header">
			 <nav>
				<div class="nav-wrapper row">
					<div class="col s12">
						<a href="#" class="brand-logo">Users</a>
					</div>
				</div>
			</nav>
		</header>
		<div id="mainContent" class="container">
			<div class="col s12">
				<div class="row">
					<div class="col s6">
						<div class="row">

							<form class="col s12">
								<div id="addUser" class="row">
									<div class="input-field col s12">
										<input id="first_name" type="text" class="validate">
										<label for="first_name">First Name</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12">
										<input id="last_name" type="text" class="validate">
										<label for="last_name">Last Name</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12">
										<textarea id="textarea1" class="materialize-textarea"></textarea>
										<label for="textarea1">Description</label>
									</div>
								</div>
								<div class="row">
									<button id="submit" class="btn waves-effect waves-light">Add</button>
								</div>
							</form>

						</div>
					</div>
					<div id="cards" class="col s6">
						<div class="row">
							<div class="card hoverable">
								<div class="card-content">
									<span class="card-title activator grey-text text-darken-4 center-align">
										<span class="cname">Burton Johnsey</span><i class="material-icons right">more_vert</i></span>
								</div>
								<div class="card-reveal">
									<span class="card-title grey-text text-darken-4">
										<!--<span class="cname">Burton Johnsey</span>-->
										<i class="material-icons right">close</i>
									</span>
									<p>Burton is a handsome lad who is 0-2 at fubol on Sports Day. Scrub.</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">

			function buildCard( strNameFirst, strNameLast, strDescription ){
				var card = '<div class="row">';
				card += '<div class="card hoverable">';
				card +=		'<div class="card-content">';
				card +=			'<span class="card-title activator grey-text text-darken-4 center-align"><span class="cname">' + strNameFirst + " " + strNameLast + '</span><i class="material-icons right">more_vert</i></span>';
				card += 	'</div>';
				card +=		'<div class="card-reveal">';
				// card +=			'<span class="card-title grey-text text-darken-4"><span class="cname">' + strName + '</span><i class="material-icons right">close</i></span>';
				card +=			'<span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>';
				card +=			'<p>' + strDescription + '</p>';
				card +=		'</div>';
				card +=	'</div>';
				card +=	'</div>';
				return card;
			}

			var g_TestForm = false;
			$().ready(function(){

				$( "#submit" ).click(function(){
					if( $('input.valid').length == 2 && $("textarea").val().length ) {
//					var card = buildCard("Juan",  "Carlos", "He is a flintstone!");
//					console.log(card);
//					$("#cards").append( card );
						$("#cards").append( buildCard( $('input')[0].value, $('input')[1].value, $('textarea').val() ) );
						if (!g_TestForm) {
							$("input, textarea").val("");
							$("input, textarea").removeClass("valid");
						}
					}
					return false;
				});
			});
		</script>
	</body>
</html>